<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="author" content="Ioan A. È˜ucan, Mark Moll, Lydia E. Kavraki">
  <meta name="generator" content="Doxygen 1.9.1"/>
  <title>Constrained Planning</title>
  <link href="tabs.css" rel="stylesheet" type="text/css"/>
  <script src="jquery.js"></script>
  <script src="dynsections.js"></script>
  <link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
  <script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js", "TeX/AMSmath.js", "TeX/AMSsymbols.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
  <link href="doxygen.css" rel="stylesheet" type="text/css" />
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
  <link href="ompl.css" rel="stylesheet">
</head>
<body>
  <div id="top"><!-- do not remove this div, it is closed by doxygen! -->
    <nav class="navbar navbar-expand-md fixed-top navbar-dark">
      <a class="navbar-brand" href="./index.html">OMPL</a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbar">
        <ul class="navbar-nav mr-auto">
          <li class="nav-item"><a class="nav-link" href="download.html">Download</a></li>
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" id="docDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Documentation</a>
            <div class="dropdown-menu" aria-labelledby="docDropdown">
              <a class="dropdown-item" href="https://ompl.kavrakilab.org/OMPL_Primer.pdf">Primer</a>
              <a class="dropdown-item" href="installation.html">Installation</a>
              <a class="dropdown-item" href="tutorials.html">Tutorials</a>
              <a class="dropdown-item" href="group__demos.html">Demos</a>
              <a class="dropdown-item omplapp" href="gui.html">OMPL.app GUI</a>
              <a class="dropdown-item omplapp" href="webapp.html">OMPL web app</a>
              <a class="dropdown-item" href="python.html">Python Bindings</a>
              <a class="dropdown-item" href="planners.html">Available Planners</a>
              <a class="dropdown-item" href="plannerTerminationConditions.html">Planner Termination Conditions</a>
              <a class="dropdown-item" href="benchmark.html">Benchmarking Planners</a>
              <a class="dropdown-item" href="spaces.html">Available State Spaces</a>
              <a class="dropdown-item" href="optimalPlanning.html">Optimal Planning</a>
              <a class="dropdown-item" href="constrainedPlanning.html">Constrained Planning</a>
              <a class="dropdown-item" href="FAQ.html">FAQ</a>
              <div class="dropdown-divider"></div>
              <div class="dropdown-header">External links</div>
              <a class="dropdown-item" href="http://moveit.ros.org">MoveIt</a>
              <a class="dropdown-item" href="http://plannerarena.org">Planner Arena</a>
              <a class="dropdown-item" href="https://moveit.ros.org//moveit!/ros/2013/05/07/icra-motion-planning-tutorial.html">ICRA 2013 Tutorial</a>
              <a class="dropdown-item" href="http://kavrakilab.org/iros2011/">IROS 2011 Tutorial</a>
            </div>
          </li>
          <li class="nav-item"><a class="nav-link" href="gallery.html">Gallery</a></li>
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" id="codeDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Code</a>
            <div class="dropdown-menu" aria-labelledby="codeDropdown">
              <a class="dropdown-item" href="api_overview.html">API Overview</a>
              <a class="dropdown-item" href="annotated.html">Classes</a>
              <a class="dropdown-item" href="files.html">Files</a>
              <a class="dropdown-item" href="styleGuide.html">Style Guide</a>
              <a class="dropdown-item" href="integration.html">Use OMPL within Other Systems</a>
              <div class="dropdown-divider"></div>
              <div class="dropdown-header">Repositories</div>
              <a class="dropdown-item" href="https://github.com/ompl/ompl">ompl on GitHub</a>
              <a class="dropdown-item" href="https://github.com/ompl/omplapp">omplapp on GitHub</a>
              <div class="dropdown-divider"></div>
              <div class="dropdown-header">Continuous Integration</div>
              <a class="dropdown-item" href="https://travis-ci.org/ompl/ompl">ompl on Travis CI (Linux/macOS)</a>
              <a class="dropdown-item" href="https://travis-ci.org/ompl/omplapp">omplapp on Travis CI (Linux/macOS)</a>
              <a class="dropdown-item" href="https://ci.appveyor.com/project/mamoll/ompl">ompl on AppVeyor CI (Windows)</a>
              <a class="dropdown-item" href="https://ci.appveyor.com/project/mamoll/omplapp">omplapp on AppVeyor CI (Windows)</a>
            </div>
          </li>
          <li class="nav-item"><a class="nav-link" href="https://github.com/ompl/ompl/issues">Issues</a></li>
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" id="communityDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Community</a>
            <div class="dropdown-menu" aria-labelledby="communityDropdown">
              <a class="dropdown-item" href="support.html">Get Support</a>
              <a class="dropdown-item" href="developers.html">Developers/Contributors</a>
              <a class="dropdown-item" href="contrib.html">Submit a Contribution</a>
              <a class="dropdown-item" href="education.html">Education</a>
            </div>
          </li>
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" id="aboutDropdown" role="button"  data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">About</a>
            <div class="dropdown-menu" aria-labelledby="aboutDropdown">
              <a class="dropdown-item" href="license.html">License</a>
              <a class="dropdown-item" href="citations.html">Citations</a>
              <a class="dropdown-item" href="acknowledgements.html">Acknowledgments</a>
            </div>
          </li>
          <li class="nav-item"><a class="nav-link" href="https://ompl.kavrakilab.org/blog.html">Blog</a></li>
        </ul>
                <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.svg"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
      </div>
    </nav>
  <div class="container" role="main">
    <div><!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Constrained Planning </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#autotoc_md0">Limitations</a><ul><li class="level2"><a href="#autotoc_md1">Contiguous Memory</a></li>
<li class="level2"><a href="#autotoc_md2">Constraint Differentiability</a></li>
<li class="level2"><a href="#autotoc_md3">Required Interpolation</a></li>
<li class="level2"><a href="#autotoc_md4">Interpolation Failures</a></li>
<li class="level2"><a href="#autotoc_md5">Hyperparameter Sensitivity</a></li>
</ul>
</li>
<li class="level1"><a href="#autotoc_md6">Additional Notes</a><ul><li class="level2"><a href="#autotoc_md7">Constraint Projection versus Projection Evaluator</a></li>
</ul>
</li>
<li class="level1"><a href="#autotoc_md8">Want to learn more?</a><ul><li class="level2"><a href="#autotoc_md9">Tutorials</a></li>
<li class="level2"><a href="#autotoc_md10">Demos</a></li>
</ul>
</li>
</ul>
</div>
<div class="textblock"><p><a class="anchor" id="md_ompl_doc_markdown_constrainedPlanning"></a></p>
<p>Sometimes, the motion of a robot is <em>constrained</em> by its task or inherent kinematic properties. For example, a robot might want to keep a cup of water level, remain in contact with a surface to write on it, or follow some curve in space that corresponds to a task. In each of these cases, the constraint on the robot's motion is defined by some <em>function</em>, \(f(q) : \mathcal{Q} \rightarrow \mathbb{R}^n\), which maps the robot's state space \(\mathcal{Q}\) onto a real vector value \(\mathbb{R}^n\). The constraint is considered satisfied whenever \(f(q) = \mathbf{0}\). For example, to keep the cup level, the angular distance of the cup's axis to the upright z-axis could be the constraint function. In addition, a constraint satisfying motion satisfies \(f(q) = \mathbf{0}\) at every point along the path. Constrained motion planning addresses the question of how to find a constraint satisfying motion, while still avoiding obstacles or achieving other objectives.</p>
<p>In general, motion planners are not aware of constraints, and will generate paths that do not satisfy the constraint. This is because the <em>submanifold</em> of constraint satisfying configurations \(X = \{ q \in \mathcal{Q} \mid f(q) = \mathbf{0} \}\) is lower-dimensional compared to the state space of the robot, and thus near impossible to sample from. To plan constraint satisfying motion, OMPL provides a means to augment the state space of a robot with knowledge of the constraint, representing \(X\) as a state space. Any motion plan generated using this augmented state space will satisfy the constraint, as the primitive operations used by motions planners (e.g., <code><a class="el" href="classompl_1_1base_1_1StateSpace.html#ae64df33ebaaddb1cd64c555be90d099d" title="Computes the state that lies at time t in [0, 1] on the segment that connects from state to to state....">ompl::base::StateSpace::interpolate</a></code>) automatically generate constraint satisfying states. The constrained planning framework enables any sampling-based planner (included asymptotically optimal planners) to plan while respecting a constraint function.</p>
<p>You can represent a constraint function using <code><a class="el" href="classompl_1_1base_1_1Constraint.html" title="Definition of a differentiable holonomic constraint on a configuration space. See Constrained Plannin...">ompl::base::Constraint</a></code>, where you must implement the function \(f\), and optionally the analytic Jacobian of the constraint function. If no analytic Jacobian is provided, a numerical finite central difference routine is used to approximate the Jacobian. However, this is very computationally intensive, and providing an analytic derivative is preferred. We provide a simple script <code><a class="el" href="ConstraintGeneration_8py_source.html">ConstraintGeneration.py</a></code> that uses the <a href="https://www.sympy.org/en/index.html">SymPy</a> Python library for symbolic differentiation of constraints, and can automatically generate constraint code that can be used in your programs. There is also <code><a class="el" href="classompl_1_1base_1_1ConstraintIntersection.html" title="Definition of a constraint composed of multiple constraints that all must be satisfied simultaneously...">ompl::base::ConstraintIntersection</a></code>, which allows for composition of multiple constraints together that must all be satisfied.</p>
<p>There are currently three provided representations of constrained state spaces, each of which inherits from <code><a class="el" href="classompl_1_1base_1_1ConstrainedStateSpace.html" title="A StateSpace that has a Constraint imposed upon it. Underlying space functions are passed to the ambi...">ompl::base::ConstrainedStateSpace</a></code>. Each of these methods implements a different way to sample and traverse the underlying submanifold. The three augmented state spaces are:</p>
<ul>
<li><code><a class="el" href="classompl_1_1base_1_1ProjectedStateSpace.html" title="ConstrainedStateSpace encapsulating a projection-based methodology for planning with constraints.">ompl::base::ProjectedStateSpace</a></code>, a constrained state space that uses a projection operator to find constraint satisfying motion.</li>
<li><code><a class="el" href="classompl_1_1base_1_1AtlasStateSpace.html" title="ConstrainedStateSpace encapsulating a planner-agnostic atlas algorithm for planning on a constraint m...">ompl::base::AtlasStateSpace</a></code>, a constrained state space that, while planning, builds a piecewise linear approximation of \(X\) using tangent spaces. This approximation is called an <em>atlas</em>, and is used to guide planning.</li>
<li><code><a class="el" href="classompl_1_1base_1_1TangentBundleStateSpace.html" title="ConstrainedStateSpace encapsulating a planner-agnostic lazy atlas algorithm for planning on a constra...">ompl::base::TangentBundleStateSpace</a></code>, a constrained state space similar to <code><a class="el" href="classompl_1_1base_1_1AtlasStateSpace.html" title="ConstrainedStateSpace encapsulating a planner-agnostic atlas algorithm for planning on a constraint m...">ompl::base::AtlasStateSpace</a></code>, but lazily evaluates the atlas.</li>
</ul>
<p>Each of these state spaces has their own documentation that can be viewed on their page. The augmented state space approach taken by OMPL was presented in <a href="https://www.kavrakilab.org/publications/kingston2019exploring-implicit-spaces-for-constrained.pdf">a 2019 paper in the International Journal of Robotics Research</a>. More information about constrained motion planning is presented in <a href="http://kavrakilab.org/publications/kingston2018sampling-based-methods-for-motion-planning.pdf">this review paper</a>.</p>
<p>You can view an example of how to use the constrained planning framework in <a href="constrainedPlanningTutorial.html">this tutorial</a>!</p>
<h1><a class="anchor" id="autotoc_md0"></a>
Limitations</h1>
<p>In order for the constrained planning framework to work, your underlying state space and constraint function must satisfy a few assumptions.</p>
<h2><a class="anchor" id="autotoc_md1"></a>
Contiguous Memory</h2>
<p>As an implementation detail, the memory allocated in a state by the underlying state space must be a contiguous array of <code>double</code> values. For example, <code><a class="el" href="classompl_1_1base_1_1RealVectorStateSpace.html" title="A state space representing Rn. The distance function is the L2 norm.">ompl::base::RealVectorStateSpace</a></code>, or the state space implemented in the kinematic chain benchmark both allocate a contiguous array of <code>double</code> values. This detail is required by the various constrained state spaces and constraint function in order to view them as <code>Eigen::VectorXd</code>s, using <code>Eigen::Map&lt;Eigen::VectorXd&gt;</code>. Note that <code><a class="el" href="classompl_1_1base_1_1ConstrainedStateSpace_1_1StateType.html" title="A State in a ConstrainedStateSpace, represented as a dense real vector of values. For convenience and...">ompl::base::ConstrainedStateSpace::StateType</a></code> derives from this class, for convenience.</p>
<p>However, this assumption prevents the <code><a class="el" href="classompl_1_1base_1_1CompoundStateSpace.html" title="A space to allow the composition of state spaces.">ompl::base::CompoundStateSpace</a></code> from being used by the constrained planning framework, as state allocation does not guarantee contiguity.</p>
<h2><a class="anchor" id="autotoc_md2"></a>
Constraint Differentiability</h2>
<p>In general, your constraint function should be a <em>continuous</em> and <em>differentiable</em> function of the robot's state. Singularities in the constraint function can cause bad behavior by the underlying constraint satisfaction methods. <code><a class="el" href="classompl_1_1base_1_1AtlasStateSpace.html" title="ConstrainedStateSpace encapsulating a planner-agnostic atlas algorithm for planning on a constraint m...">ompl::base::AtlasStateSpace</a></code> and <code><a class="el" href="classompl_1_1base_1_1TangentBundleStateSpace.html" title="ConstrainedStateSpace encapsulating a planner-agnostic lazy atlas algorithm for planning on a constra...">ompl::base::TangentBundleStateSpace</a></code> both will treat singularities as obstacles in the planning process.</p>
<h2><a class="anchor" id="autotoc_md3"></a>
Required Interpolation</h2>
<p>If you want a path that satisfies constraints <em>and</em> is potentially executable by a real system, you will want to interpolate whatever path (simplified or un-simplified) you find. This can be done by simply calling <code><a class="el" href="classompl_1_1geometric_1_1PathGeometric.html#a824b91d04ba886c82c1dda3e356fd1f0" title="Insert a number of states in a path so that the path is made up of (approximately) the states checked...">ompl::geometric::PathGeometric::interpolate()</a></code>. The interpolated path will be constraint satisfying, as the interpolate routine uses the primitives afforded by the constrained state space. However, there can potentially be issues at this step, as interpolation can fail.</p>
<h2><a class="anchor" id="autotoc_md4"></a>
Interpolation Failures</h2>
<p>Currently, each of the constrained state spaces implements interpolation on the constraint submanifold via computing a <em>discrete geodesic</em> between the two query points. The discrete geodesic is a sequence of close (to approximate continuity), constraint satisfying states between two query points. The distance between each point in the discrete geodesic is tuned by the "delta" parameter in <code><a class="el" href="classompl_1_1base_1_1ConstrainedStateSpace.html#ac4b381611fa84be9e6d0ff2870b11498" title="Set delta, the step size for traversing the manifold and collision checking. Default defined by ompl:...">ompl::base::ConstrainedStateSpace::setDelta()</a></code>. How this discrete geodesic is computed is key to how constrained state space operates, as it is used ubiquitously throughout the code (e.g., interpolation, collision checking, motion validation, and others).</p>
<p>Due to the nature of how these routines are implemented, it is possible for computation of the discrete geodesic to <em>fail</em>, thus causing potentially unexpected results from whatever overlying routine requested a discrete geodesic. These failures can be the result of singularities in the constraint, high curvature of the submanifold, and various other issues. However, interpolation in "regular" state spaces does not generally fail as they are analytic, such as linear interpolation in <code><a class="el" href="classompl_1_1base_1_1RealVectorStateSpace.html" title="A state space representing Rn. The distance function is the L2 norm.">ompl::base::RealVectorStateSpace</a></code>; hence, <code>ompl::base::StateStace::interpolate()</code> is assumed to always be successful. As a result, some unexpected behavior can be seen if interpolation fails during planning with a constrained state space. Increasing or decreasing the "delta" parameter in <code><a class="el" href="classompl_1_1base_1_1ConstrainedStateSpace.html" title="A StateSpace that has a Constraint imposed upon it. Underlying space functions are passed to the ambi...">ompl::base::ConstrainedStateSpace</a></code>, increasing or decreasing the constraint satisfaction tolerance, and other hyperparameter tuning can fix these problems.</p>
<h2><a class="anchor" id="autotoc_md5"></a>
Hyperparameter Sensitivity</h2>
<p>The constrained state spaces, in general, are sensitive to the tuning of their various hyperparameters. Some reasonable defaults are set at start, but many constrained planning problems will have different characteristics of the underlying submanifold, and as such different parameters may be needed. Some basic rules-of-thumb are provided below:</p>
<ul>
<li>For high-dimensional ambient state spaces, many parameters can be increased in magnitude. A brief non-exhaustive list follows.<ul>
<li>Constraint solving tolerance can be increased with <code><a class="el" href="classompl_1_1base_1_1Constraint.html#a4413eaf904a95e843b85938236a1a2ab" title="Sets the projection tolerance.">ompl::base::Constraint::setTolerance()</a></code></li>
<li>Valid step size for manifold traversal with <code><a class="el" href="classompl_1_1base_1_1ConstrainedStateSpace.html#ac4b381611fa84be9e6d0ff2870b11498" title="Set delta, the step size for traversing the manifold and collision checking. Default defined by ompl:...">ompl::base::ConstrainedStateSpace::setDelta()</a></code></li>
<li>Many atlas related parameters for <code><a class="el" href="classompl_1_1base_1_1AtlasStateSpace.html" title="ConstrainedStateSpace encapsulating a planner-agnostic atlas algorithm for planning on a constraint m...">ompl::base::AtlasStateSpace</a></code>, such as \(\epsilon, \rho\), and exploration.</li>
</ul>
</li>
<li>Generally, the step size for manifold traversal is related to the relative <em>curvature</em> of the underlying constraint submanifold. Less curvy submanifolds can permit larger step sizes (i.e., if the constraint defines a hyperplane, you can use a large step size). Play around with this value if speed is a concern, as the larger the step size is, the less time is spent traversing the manifold.</li>
<li>For the atlas- and tangent bundle-based spaces, planners that rely on uniform sampling of the space may require a high exploration parameter so the constraint submanifold becomes covered quicker (e.g., BIT*). Additionally, planners that rely on <code>ompl::base::StateSampler::samplerNear()</code> may also require a high exploration or \(\rho\) parameter in order to expand effectively.</li>
<li>And many others! In general, the projection-based space is less sensitive to poor parameter tuning than atlas- or tangent bundle-based space, and as such is a good starting point to validate whether a constrained planning problem is feasible.</li>
</ul>
<h1><a class="anchor" id="autotoc_md6"></a>
Additional Notes</h1>
<h2><a class="anchor" id="autotoc_md7"></a>
Constraint Projection versus Projection Evaluator</h2>
<p>Within <code><a class="el" href="classompl_1_1base_1_1Constraint.html" title="Definition of a differentiable holonomic constraint on a configuration space. See Constrained Plannin...">ompl::base::Constraint</a></code>, there is a projection function <code><a class="el" href="classompl_1_1base_1_1Constraint.html#a84203729cf979b398e8e59f92d136ed3" title="Project a state state given the constraints. If a valid projection cannot be found,...">ompl::base::Constraint::project()</a></code> which maps a potentially constraint unsatisfying configuration to the constraint manifold. By default, <code><a class="el" href="classompl_1_1base_1_1Constraint.html#a84203729cf979b398e8e59f92d136ed3" title="Project a state state given the constraints. If a valid projection cannot be found,...">ompl::base::Constraint::project()</a></code> implements a Newton's method which performs well in most circumstances. Note that it is possible to override this method with your own projection routine, e.g., inverse kinematics.</p>
<p>You might notice that there also exists <code><a class="el" href="classompl_1_1base_1_1ProjectionEvaluator.html#aabaf42c4d51b8da6537261e64e9d6996" title="Compute the projection as an array of double values.">ompl::base::ProjectionEvaluator::project()</a></code> This method is used by a few planners to estimate the coverage of the free space (see <a href="projections.html">this tutorial for more information</a>), as it is a "projection" into a lower-dimensional space. Although similar sounding, this concept is orthogonal to the concept of projection as used in <code><a class="el" href="classompl_1_1base_1_1Constraint.html" title="Definition of a differentiable holonomic constraint on a configuration space. See Constrained Plannin...">ompl::base::Constraint</a></code>, which projects states into the lower-dimensional constraint manifold. In fact, one can use planners that use a <code><a class="el" href="classompl_1_1base_1_1ProjectionEvaluator.html" title="Abstract definition for a class computing projections to Rn. Implicit integer grids are imposed on th...">ompl::base::ProjectionEvaluator</a></code> (e.g., <code><a class="el" href="classompl_1_1geometric_1_1KPIECE1.html" title="Kinematic Planning by Interior-Exterior Cell Exploration.">ompl::geometric::KPIECE1</a></code>, <code><a class="el" href="classompl_1_1geometric_1_1ProjEST.html" title="Expansive Space Trees.">ompl::geometric::ProjEST</a></code>) in tandem with the constrained planning framework.</p>
<p>By default, the constrained state spaces will use <code><a class="el" href="classompl_1_1base_1_1WrapperProjectionEvaluator.html" title="A projection evaluator that wraps around another projection evaluator.">ompl::base::WrapperProjectionEvaluator</a></code> to access the underlying state space's default projection evaluator. However, if you know anything about the structure of you problem, you should implement your own projection evaluator for performance. Each of the constrained planning demos has an example of a projection evaluator that can be used with constrained planning (e.g., <code>SphereProjection</code>, in <a href="ConstrainedPlanningSphere_8cpp_source.html">ConstrainedPlanningSphere</a>).</p>
<h1><a class="anchor" id="autotoc_md8"></a>
Want to learn more?</h1>
<h2><a class="anchor" id="autotoc_md9"></a>
Tutorials</h2>
<p>Check out the <a href="constrainedPlanningTutorial.html">tutorial</a>, which shows how to set up a constrained planning problem in R<sup>3</sup>.</p>
<h2><a class="anchor" id="autotoc_md10"></a>
Demos</h2>
<p>The examples (plus more) from <a href="http://www.kavrakilab.org/publications/kingston2019exploring-implicit-spaces-for-constrained.pdf">the paper</a> that presented the constrained planning framework are available as demo programs. All of the demos are in the <code>ompl/demos/constraint</code> folder. Each of these demos supports planning for an individual planner as well as benchmarking, and complete configurability of the hyperparameters of the constrained space. Each of these demos comes with a way to visualize the results of planning. The sphere, torus, and implicit kinematic chain demos each come with a <a href="https://www.blender.org/">Blender</a> file (<code>.blend</code>) that visualize the results of planning in 3-D. These are all in <code>ompl/demos/constraint/visualization</code>.</p>
<ul>
<li><a href="ConstrainedPlanningSphere_8cpp_source.html">ConstrainedPlanningSphere</a> <a href="ConstrainedPlanningSphere_8py_source.html">[Python version]</a>. Plan for a point in R<sup>3</sup> constrained to the surface of a sphere, with narrow obstacles it must traverse. A similar scenario is explained in the <a href="constrainedPlanningTutorial.html">tutorial</a>. The Blender file <code>ConstrainedPlanningSphere.blend</code> contains a script that visualized the motion graph, original and simplified paths, and the atlas generated while planning if <code><a class="el" href="classompl_1_1base_1_1AtlasStateSpace.html" title="ConstrainedStateSpace encapsulating a planner-agnostic atlas algorithm for planning on a constraint m...">ompl::base::AtlasStateSpace</a></code> or <code><a class="el" href="classompl_1_1base_1_1TangentBundleStateSpace.html" title="ConstrainedStateSpace encapsulating a planner-agnostic lazy atlas algorithm for planning on a constra...">ompl::base::TangentBundleStateSpace</a></code> were used. Simply change the path in the script window to the directory where the output of the demo was placed and hit "Run Script". The Python module <a href="https://networkx.github.io/">NetworkX</a> is required to visualize the graph, make sure your Blender's Python path is correctly set so it can find the module. Note that you must run the demo with <code>-o</code> to dump output.</li>
<li><a href="ConstrainedPlanningTorus_8cpp_source.html">ConstrainedPlanningTorus</a> <a href="ConstrainedPlanningTorus_8py_source.html">[Python version]</a>. Plan for a point in R<sup>3</sup> constrained to the surface of a torus. A "maze" image is loaded (some examples are provided in <code>ompl/demos/constraint/mazes</code>) to use as the set of obstacles to traverse. The start and goal point are red and green pixels in the images respectively. The Blender file <code>ConstrainedPlanningTorus.blend</code> contains a script to visualize the motion graph, simplified path, the atlas generated by planning, and the maze projected upon the torus. Similar to the sphere example, change the path in the script window and "Run Script" to see results.</li>
<li><a href="ConstrainedPlanningImplicitChain_8cpp_source.html">ConstrainedPlanningImplicitChain</a> <a href="ConstrainedPlanningImplicitChain_8py_source.html">[Python version]</a>. Plan for a set of balls, each in R<sup>3</sup>, constrained to be a unit distance apart. This imposes spherical kinematics on the balls, implicitly defining a kinematic chain. The Blender file <code>ConstrainedPlanningImplicitChain.blend</code> contains a script to show an animation of the simplified path . Similar to the sphere example, change the path in the script window and "Run Script" to see results.</li>
<li><a href="ConstrainedPlanningImplicitChain_8cpp_source.html">ConstrainedPlanningImplicitParallel</a>. Plan for a parallel robot made of many implicit chains. The Blender file <code>ConstrainedPlanningImplicitParallel.blend</code> contains a script to show an animation of the simplified path. Similar to the sphere example, change the path in the script window and "Run Script" to see results.</li>
<li><a href="ConstrainedPlanningKinematicChain_8cpp_source.html">ConstrainedPlanningKinematicChain</a>. Similar to the kinematic chain benchmark demo, but with a constraint that only allows the tip of the manipulator to move along a line. </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div>
<footer class="footer">
  <div class="container">
  <a href="http://www.kavrakilab.org">Kavraki Lab</a>  &bull;
  <a href="https://www.cs.rice.edu">Department of Computer Science</a> &bull;
  <a href="https://www.rice.edu">Rice University</a><br/>
  Funded in part by the <a href="https://www.nsf.gov">National Science Foundation</a><br/>
  Documentation generated by <a href="http://www.doxygen.org/index.html">doxygen</a> 1.9.1
  </div>
</footer>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-9156598-2', 'auto');
  ga('send', 'pageview');
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
</body>
</html>
