<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="author" content="Ioan A. È˜ucan, Mark Moll, Lydia E. Kavraki">
  <meta name="generator" content="Doxygen 1.8.17"/>
  <title>Working with States and State Spaces</title>
  <link href="tabs.css" rel="stylesheet" type="text/css"/>
  <script src="jquery.js"></script>
  <script src="dynsections.js"></script>
  <link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
  <script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js", "TeX/AMSmath.js", "TeX/AMSsymbols.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js"></script>
  <link href="doxygen.css" rel="stylesheet" type="text/css" />
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
  <link href="ompl.css" rel="stylesheet">
</head>
<body>
  <div id="top"><!-- do not remove this div, it is closed by doxygen! -->
    <nav class="navbar navbar-expand-md fixed-top navbar-dark">
      <a class="navbar-brand" href="./index.html">OMPL</a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbar">
        <ul class="navbar-nav mr-auto">
          <li class="nav-item"><a class="nav-link" href="download.html">Download</a></li>
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" id="docDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Documentation</a>
            <div class="dropdown-menu" aria-labelledby="docDropdown">
              <a class="dropdown-item" href="https://ompl.kavrakilab.org/OMPL_Primer.pdf">Primer</a>
              <a class="dropdown-item" href="installation.html">Installation</a>
              <a class="dropdown-item" href="tutorials.html">Tutorials</a>
              <a class="dropdown-item" href="group__demos.html">Demos</a>
              <a class="dropdown-item omplapp" href="gui.html">OMPL.app GUI</a>
              <a class="dropdown-item omplapp" href="webapp.html">OMPL web app</a>
              <a class="dropdown-item" href="python.html">Python Bindings</a>
              <a class="dropdown-item" href="planners.html">Available Planners</a>
              <a class="dropdown-item" href="plannerTerminationConditions.html">Planner Termination Conditions</a>
              <a class="dropdown-item" href="benchmark.html">Benchmarking Planners</a>
              <a class="dropdown-item" href="spaces.html">Available State Spaces</a>
              <a class="dropdown-item" href="optimalPlanning.html">Optimal Planning</a>
              <a class="dropdown-item" href="constrainedPlanning.html">Constrained Planning</a>
              <a class="dropdown-item" href="multiLevelPlanning.html">Multilevel Planning</a>
              <a class="dropdown-item" href="FAQ.html">FAQ</a>
              <div class="dropdown-divider"></div>
              <div class="dropdown-header">External links</div>
              <a class="dropdown-item" href="http://moveit.ros.org">MoveIt</a>
              <a class="dropdown-item" href="http://plannerarena.org">Planner Arena</a>
              <a class="dropdown-item" href="https://moveit.ros.org//moveit!/ros/2013/05/07/icra-motion-planning-tutorial.html">ICRA 2013 Tutorial</a>
              <a class="dropdown-item" href="http://kavrakilab.org/iros2011/">IROS 2011 Tutorial</a>
            </div>
          </li>
          <li class="nav-item"><a class="nav-link" href="gallery.html">Gallery</a></li>
          <li class="nav-item"><a class="nav-link" href="integration.html">OMPL Integrations</a></li>
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" id="codeDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Code</a>
            <div class="dropdown-menu" aria-labelledby="codeDropdown">
              <a class="dropdown-item" href="api_overview.html">API Overview</a>
              <a class="dropdown-item" href="annotated.html">Classes</a>
              <a class="dropdown-item" href="files.html">Files</a>
              <a class="dropdown-item" href="styleGuide.html">Style Guide</a>
              <div class="dropdown-divider"></div>
              <div class="dropdown-header">Repositories</div>
              <a class="dropdown-item" href="https://github.com/ompl/ompl">ompl on GitHub</a>
              <a class="dropdown-item" href="https://github.com/ompl/omplapp">omplapp on GitHub</a>
              <div class="dropdown-divider"></div>
              <div class="dropdown-header">Continuous Integration</div>
              <a class="dropdown-item" href="https://travis-ci.org/ompl/ompl">ompl on Travis CI (Linux/macOS)</a>
              <a class="dropdown-item" href="https://travis-ci.org/ompl/omplapp">omplapp on Travis CI (Linux/macOS)</a>
              <a class="dropdown-item" href="https://ci.appveyor.com/project/mamoll/ompl">ompl on AppVeyor CI (Windows)</a>
              <a class="dropdown-item" href="https://ci.appveyor.com/project/mamoll/omplapp">omplapp on AppVeyor CI (Windows)</a>
            </div>
          </li>
          <li class="nav-item"><a class="nav-link" href="https://github.com/ompl/ompl/issues">Issues</a></li>
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" id="communityDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Community</a>
            <div class="dropdown-menu" aria-labelledby="communityDropdown">
              <a class="dropdown-item" href="support.html">Get Support</a>
              <a class="dropdown-item" href="developers.html">Developers/Contributors</a>
              <a class="dropdown-item" href="contrib.html">Submit a Contribution</a>
              <a class="dropdown-item" href="education.html">Education</a>
            </div>
          </li>
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" id="aboutDropdown" role="button"  data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">About</a>
            <div class="dropdown-menu" aria-labelledby="aboutDropdown">
              <a class="dropdown-item" href="license.html">License</a>
              <a class="dropdown-item" href="citations.html">Citations</a>
              <a class="dropdown-item" href="acknowledgements.html">Acknowledgments</a>
            </div>
          </li>
          <li class="nav-item"><a class="nav-link" href="https://ompl.kavrakilab.org/blog.html">Blog</a></li>
        </ul>
                <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </div>
    </nav>
  <div class="container" role="main">
    <div>
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Working with States and State Spaces </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="stateAlloc"></a>
Allocating memory for states</h1>
<h2><a class="anchor" id="autotoc_md161"></a>
The simple version</h2>
<div class="fragment"><div class="line"><a class="code" href="classompl_1_1base_1_1StateSpacePtr.html">ompl::base::StateSpacePtr</a> space(<span class="keyword">new</span> T());</div>
<div class="line"><a class="code" href="classompl_1_1base_1_1ScopedState.html">ompl::base::ScopedState&lt;&gt;</a> state(space);</div>
</div><!-- fragment --><p>or</p>
<div class="fragment"><div class="line"><a class="code" href="classompl_1_1base_1_1SpaceInformationPtr.html">ompl::base::SpaceInformationPtr</a> si(space);</div>
<div class="line"><a class="code" href="classompl_1_1base_1_1ScopedState.html">ompl::base::ScopedState&lt;T&gt;</a> state(si);</div>
</div><!-- fragment --><p>The <a class="el" href="classompl_1_1base_1_1ScopedState.html" title="Definition of a scoped state.">ompl::base::ScopedState</a> class will do the necessary memory operations to allocate a state from the correct state space. This is the recommended way of allocating states for code other than ompl internals. Convenience operators such as = and == are provided. If a type T is provided, where T is a state space type, the maintained state is cast as T::StateType. operator= will use <a class="el" href="classompl_1_1base_1_1StateSpace.html#abff3478c3fc4da03c94d6f929f6ca7f9" title="Copy a state to another. The memory of source and destination should NOT overlap.">ompl::base::StateSpace::copyState()</a> and operator== will use <a class="el" href="classompl_1_1base_1_1StateSpace.html#a6babf3addb5ed9608800b7460a20da39" title="Checks whether two states are equal.">ompl::base::StateSpace::equalStates()</a>.</p>
<h2><a class="anchor" id="autotoc_md162"></a>
The expert version</h2>
<div class="fragment"><div class="line"><a class="code" href="classompl_1_1base_1_1SpaceInformationPtr.html">ompl::base::SpaceInformationPtr</a> si(space);</div>
<div class="line"><a class="code" href="classompl_1_1base_1_1State.html">ompl::base::State</a>* state = si-&gt;allocState();</div>
<div class="line">...</div>
<div class="line">si-&gt;freeState(state);</div>
</div><!-- fragment --><p>The structure of a state depends on the state space specification. The <a class="el" href="classompl_1_1base_1_1State.html" title="Definition of an abstract state.">ompl::base::State</a> type is just an abstract base for the states of other state spaces. For this reason, states cannot be allocated directly, but through the allocation mechanism of the state space: <a class="el" href="classompl_1_1base_1_1StateSpace.html#ae86d2a2401044774fa4de3345a29d408" title="Allocate a state that can store a point in the described space.">ompl::base::StateSpace::allocState()</a>. States are to be freed using <a class="el" href="classompl_1_1base_1_1StateSpace.html#aeb75db7a7ef3d05f13632b7ccc67e6b9" title="Free the memory of the allocated state.">ompl::base::StateSpace::freeState()</a>. For convenience, <a class="el" href="classompl_1_1base_1_1SpaceInformation.html#a9853da6c28a1a1fd5f543013546a0f4b" title="Allocate memory for a state.">ompl::base::SpaceInformation::allocState()</a> and <a class="el" href="classompl_1_1base_1_1SpaceInformation.html#a178583601cea48741ba3fa972b3204a5" title="Free the memory of a state.">ompl::base::SpaceInformation::freeState()</a> are defined as well. Using the calls from the <a class="el" href="classompl_1_1base_1_1SpaceInformation.html" title="The base class for space information. This contains all the information about the space planning is d...">ompl::base::SpaceInformation</a> class is better since they certainly use the same state space as the one used for planning. This is the lowest level of operating on states and only recommended for expert users.</p>
<p>See <a href="#stateOps">Working with states</a> for how to fill the contents of the allocated states.</p>
<h1><a class="anchor" id="stateOps"></a>
Working with states</h1>
<p>In order for states to be useful in setting start (or goal) positions, accessing their content is needed. It is assumed the reader is familiar with <a href="#stateAlloc">Allocating memory for states</a>. Furthermore, <a href="#stateAndSpaceOperatorsCopy">operators on states and state spaces</a> are also used.</p>
<h2><a class="anchor" id="autotoc_md163"></a>
Simple version</h2>
<p>The recommended use of states is with <a class="el" href="classompl_1_1base_1_1ScopedState.html" title="Definition of a scoped state.">ompl::base::ScopedState</a>. Given the instance of a state space, this class will allocate a state from that space. The internally maintained state is freed when the instance of <a class="el" href="classompl_1_1base_1_1ScopedState.html" title="Definition of a scoped state.">ompl::base::ScopedState</a> goes out of scope. <a class="el" href="classompl_1_1base_1_1ScopedState.html" title="Definition of a scoped state.">ompl::base::ScopedState</a> is a templated class and it inherits from T::StateType, where T is a state space type. This allows it to cast the state it maintains to the desired type and thus exhibit the functionality (the same members) as T::StateType. If no template argument is specified, the internal state is kept as <a class="el" href="classompl_1_1base_1_1State.html" title="Definition of an abstract state.">ompl::base::State</a>*.</p>
<div class="fragment"><div class="line"><a class="code" href="classompl_1_1base_1_1StateSpacePtr.html">ompl::base::StateSpacePtr</a> space(<span class="keyword">new</span> <a class="code" href="classompl_1_1base_1_1SE2StateSpace.html">ompl::base::SE2StateSpace</a>());</div>
<div class="line"><a class="code" href="classompl_1_1base_1_1ScopedState.html">ompl::base::ScopedState&lt;ompl::base::SE2StateSpace&gt;</a> state(space);</div>
<div class="line">state-&gt;setX(0.1);</div>
<div class="line">state-&gt;setY(0.2);</div>
<div class="line">state-&gt;setYaw(0.0);</div>
<div class="line"> </div>
<div class="line"><a class="code" href="classompl_1_1base_1_1ScopedState.html">ompl::base::ScopedState&lt;&gt;</a> backup = state;</div>
<div class="line"><span class="comment">// backup maintains its internal state as State*, so setX() is not available.</span></div>
<div class="line"><span class="comment">// the content of backup is copied from state</span></div>
<div class="line"> </div>
<div class="line"><a class="code" href="classompl_1_1base_1_1State.html">ompl::base::State</a> *abstractState = space-&gt;allocState();</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="comment">// this will copy the content of abstractState to state and</span></div>
<div class="line"><span class="comment">// cast it internally as ompl::base::SE2StateSpace::StateType</span></div>
<div class="line">state = abstractState;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// restore state to it&#39;s original value</span></div>
<div class="line">state = backup;</div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">if</span> (state != backup)</div>
<div class="line">   <span class="keywordflow">throw</span> <a class="code" href="classompl_1_1Exception.html">ompl::Exception</a>(<span class="stringliteral">&quot;This should never happen&quot;</span>);</div>
</div><!-- fragment --><p>Combining <a class="el" href="classompl_1_1base_1_1ScopedState.html" title="Definition of a scoped state.">ompl::base::ScopedState</a> with <a class="el" href="classompl_1_1base_1_1CompoundStateSpace.html" title="A space to allow the composition of state spaces.">ompl::base::CompoundStateSpace</a>:</p>
<div class="fragment"><div class="line"><a class="code" href="classompl_1_1base_1_1CompoundStateSpace.html">ompl::base::CompoundStateSpace</a> *cs = <span class="keyword">new</span> <a class="code" href="classompl_1_1base_1_1CompoundStateSpace.html">ompl::base::CompoundStateSpace</a>();</div>
<div class="line">cs-&gt;<a class="code" href="classompl_1_1base_1_1CompoundStateSpace.html#a9c772d5b74271f79d95531d00ed36bf7">addSubspace</a>(<a class="code" href="classompl_1_1base_1_1StateSpacePtr.html">ompl::base::StateSpacePtr</a>(<span class="keyword">new</span> <a class="code" href="classompl_1_1base_1_1SO2StateSpace.html">ompl::base::SO2StateSpace</a>()), 1.0);</div>
<div class="line">cs-&gt;<a class="code" href="classompl_1_1base_1_1CompoundStateSpace.html#a9c772d5b74271f79d95531d00ed36bf7">addSubspace</a>(<a class="code" href="classompl_1_1base_1_1StateSpacePtr.html">ompl::base::StateSpacePtr</a>(<span class="keyword">new</span> <a class="code" href="classompl_1_1base_1_1SO3StateSpace.html">ompl::base::SO3StateSpace</a>()), 1.0);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// put the pointer to the state space in a shared pointer</span></div>
<div class="line"><a class="code" href="classompl_1_1base_1_1StateSpacePtr.html">ompl::base::StateSpacePtr</a> space(cs);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// the ompl::base::ScopedState helps only with one cast here, since we still need to</span></div>
<div class="line"><span class="comment">// manually cast the components of the state to what we want them to be.</span></div>
<div class="line"><a class="code" href="classompl_1_1base_1_1ScopedState.html">ompl::base::ScopedState&lt;ompl::base::CompoundStateSpace&gt;</a> state(space);</div>
<div class="line">state-&gt;<a class="code" href="classompl_1_1base_1_1State.html#a6178474307b3f364184db9999a639af1">as</a>&lt;<a class="code" href="classompl_1_1base_1_1SO2StateSpace_1_1StateType.html">ompl::base::SO2StateSpace::StateType</a>&gt;(0)-&gt;setIdentity();</div>
</div><!-- fragment --><p>The code above can be equivalently written as:</p>
<div class="fragment"><div class="line"><span class="comment">// define the individual state spaces</span></div>
<div class="line"><a class="code" href="classompl_1_1base_1_1StateSpacePtr.html">ompl::base::StateSpacePtr</a> so2(<span class="keyword">new</span> <a class="code" href="classompl_1_1base_1_1SO2StateSpace.html">ompl::base::SO2StateSpace</a>());</div>
<div class="line"><a class="code" href="classompl_1_1base_1_1StateSpacePtr.html">ompl::base::StateSpacePtr</a> so3(<span class="keyword">new</span> <a class="code" href="classompl_1_1base_1_1SO3StateSpace.html">ompl::base::SO3StateSpace</a>());</div>
<div class="line"> </div>
<div class="line"><span class="comment">// construct a compound state space using the overloaded operator+</span></div>
<div class="line"><a class="code" href="classompl_1_1base_1_1StateSpacePtr.html">ompl::base::StateSpacePtr</a> space = so2 + so3;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// the ompl::base::ScopedState helps only with one cast here, since we still need to</span></div>
<div class="line"><span class="comment">// manually cast the components of the state to what we want them to be.</span></div>
<div class="line"><a class="code" href="classompl_1_1base_1_1ScopedState.html">ompl::base::ScopedState&lt;ompl::base::CompoundStateSpace&gt;</a> state(space);</div>
<div class="line">state-&gt;<a class="code" href="classompl_1_1base_1_1State.html#a6178474307b3f364184db9999a639af1">as</a>&lt;<a class="code" href="classompl_1_1base_1_1SO2StateSpace_1_1StateType.html">ompl::base::SO2StateSpace::StateType</a>&gt;(0)-&gt;setIdentity();</div>
</div><!-- fragment --><p>States can also be printed to streams:</p>
<div class="fragment"><div class="line"><a class="code" href="classompl_1_1base_1_1ScopedState.html">ompl::base::ScopedState&lt;&gt;</a> state(space);</div>
<div class="line">std::cout &lt;&lt; state;</div>
</div><!-- fragment --><p>Sometimes it may be useful to extract parts of a state, or assign only to some parts of a state, especially when using compound state spaces:</p>
<div class="fragment"><div class="line"><span class="comment">// an SE2 state space is in fact a compound state space consisting of R^2 and SO2</span></div>
<div class="line"><a class="code" href="classompl_1_1base_1_1StateSpacePtr.html">ompl::base::StateSpacePtr</a> space(<span class="keyword">new</span> <a class="code" href="classompl_1_1base_1_1SE2StateSpace.html">ompl::base::SE2StateSpace</a>());</div>
<div class="line"><span class="comment">// define a full state for this state space</span></div>
<div class="line"><a class="code" href="classompl_1_1base_1_1ScopedState.html">ompl::base::ScopedState&lt;ompl::base::SE2StateSpace&gt;</a> fullState(space);</div>
<div class="line"><span class="comment">// set the state to a random value</span></div>
<div class="line">fullState.random();</div>
<div class="line"> </div>
<div class="line"><span class="comment">// construct a state that corresponds to the position component of SE2</span></div>
<div class="line"><a class="code" href="classompl_1_1base_1_1ScopedState.html">ompl::base::ScopedState&lt;&gt;</a> pos(space-&gt;as&lt;<a class="code" href="classompl_1_1base_1_1SE2StateSpace.html">ompl::base::SE2StateSpace</a>&gt;()-&gt;<a class="code" href="classompl_1_1base_1_1CompoundStateSpace.html#a332b23e17e7145d92dce19c6f58a11f9">getSubspace</a>(0));</div>
<div class="line"> </div>
<div class="line"><span class="comment">// copy the position</span></div>
<div class="line">pos &lt;&lt; fullState;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// equivalently, this can be done too:</span></div>
<div class="line">fullState &gt;&gt; pos;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// if we now modify pos somehow, we can set it back in the full state:</span></div>
<div class="line">pos &gt;&gt; fullState;</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md164"></a>
Expert version</h1>
<p>For a state space type of type T, the result of <a class="el" href="classompl_1_1base_1_1StateSpace.html#ae86d2a2401044774fa4de3345a29d408" title="Allocate a state that can store a point in the described space.">ompl::base::StateSpace::allocState()</a> can be casted to T::StateType* to gain access to the state's members. To ease this functionality, the <a class="el" href="classompl_1_1base_1_1State.html#ace9774faf8793299dc105292f8557987" title="Cast this instance to a desired type.">ompl::base::State::as()</a> functions have been defined.</p>
<div class="fragment"><div class="line"><a class="code" href="classompl_1_1base_1_1StateSpacePtr.html">ompl::base::StateSpacePtr</a> space(<span class="keyword">new</span> <a class="code" href="classompl_1_1base_1_1RealVectorStateSpace.html">ompl::base::RealVectorStateSpace</a>(1));</div>
<div class="line"><a class="code" href="classompl_1_1base_1_1State.html">ompl::base::State</a> *state = space-&gt;allocState();</div>
<div class="line">state-&gt;<a class="code" href="classompl_1_1base_1_1State.html#a6178474307b3f364184db9999a639af1">as</a>&lt;<a class="code" href="classompl_1_1base_1_1RealVectorStateSpace_1_1StateType.html">ompl::base::RealVectorStateSpace::StateType</a>&gt;()-&gt;values[0] = 0.1;</div>
<div class="line"><a class="code" href="classompl_1_1base_1_1State.html">ompl::base::State</a> *copy = space-&gt;allocState();</div>
<div class="line">space-&gt;copyState(copy, state);</div>
<div class="line"><span class="keywordflow">if</span> (!space-&gt;equalStates(copy, state))</div>
<div class="line">   <span class="keywordflow">throw</span> <a class="code" href="classompl_1_1Exception.html">ompl::Exception</a>(<span class="stringliteral">&quot;This should not happen&quot;</span>);</div>
<div class="line">space-&gt;freeState(state);</div>
<div class="line">space-&gt;freeState(copy);</div>
</div><!-- fragment --><p>See <a href="group__advancedStateCopy.html">Advanced methods for copying states</a> for more information on copying states.</p>
<h1><a class="anchor" id="stateAndSpaceOperatorsCopy"></a>
Operators for States and State Spaces</h1>
<p>These operators are intended to simplify code that manipulates states and state spaces. They rely on the fact that state spaces have unique names. Here are some examples for using these operators: </p><div class="fragment"><div class="line"><span class="comment">// Assume X, Y, Z, W are state space instances, none of</span></div>
<div class="line"><span class="comment">// which inherits from ompl::base::CompoundStateSpace.</span></div>
<div class="line"><span class="comment">// Denote a compound state space as C[...], where &quot;...&quot; is the</span></div>
<div class="line"><span class="comment">// list of subspaces.</span></div>
<div class="line"> </div>
<div class="line"><a class="code" href="classompl_1_1base_1_1StateSpacePtr.html">ompl::base::StateSpacePtr</a> X;</div>
<div class="line"><a class="code" href="classompl_1_1base_1_1StateSpacePtr.html">ompl::base::StateSpacePtr</a> Y;</div>
<div class="line"><a class="code" href="classompl_1_1base_1_1StateSpacePtr.html">ompl::base::StateSpacePtr</a> Z;</div>
<div class="line"><a class="code" href="classompl_1_1base_1_1StateSpacePtr.html">ompl::base::StateSpacePtr</a> W;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// the following line will construct a state space C1 = C[X, Y]</span></div>
<div class="line"><a class="code" href="classompl_1_1base_1_1StateSpacePtr.html">ompl::base::StateSpacePtr</a> C1 = X + Y;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// the following line will construct a state space C2 = C[X, Y, Z]</span></div>
<div class="line"><a class="code" href="classompl_1_1base_1_1StateSpacePtr.html">ompl::base::StateSpacePtr</a> C2 = C1 + Z;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// the following line will leave C2 as C[X, Y, Z]</span></div>
<div class="line"><a class="code" href="classompl_1_1base_1_1StateSpacePtr.html">ompl::base::StateSpacePtr</a> C2 = C1 + C2;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// the following line will construct a state space C2 = C[X, Y, Z, W]</span></div>
<div class="line"><a class="code" href="classompl_1_1base_1_1StateSpacePtr.html">ompl::base::StateSpacePtr</a> C2 = C2 + W;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// the following line will construct a state space C3 = C[X, Z, Y]</span></div>
<div class="line"><a class="code" href="classompl_1_1base_1_1StateSpacePtr.html">ompl::base::StateSpacePtr</a> C3 = X + Z + Y;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// the following line will construct a state space C4 = C[Z, W]</span></div>
<div class="line"><a class="code" href="classompl_1_1base_1_1StateSpacePtr.html">ompl::base::StateSpacePtr</a> C4 = C2 - C1;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// the following line will construct a state space C5 = W</span></div>
<div class="line"><a class="code" href="classompl_1_1base_1_1StateSpacePtr.html">ompl::base::StateSpacePtr</a> C5 = C2 - C3;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// the following line will construct an empty state space C6 = C[]</span></div>
<div class="line"><a class="code" href="classompl_1_1base_1_1StateSpacePtr.html">ompl::base::StateSpacePtr</a> C6 = X - X;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// the following line will construct a state space C7 = Y</span></div>
<div class="line"><a class="code" href="classompl_1_1base_1_1StateSpacePtr.html">ompl::base::StateSpacePtr</a> C7 = Y + C6;</div>
</div><!-- fragment --><p> These state spaces can be used when operating with states: </p><div class="fragment"><div class="line"><a class="code" href="classompl_1_1base_1_1ScopedState.html">ompl::base::ScopedState&lt;&gt;</a> sX(X);</div>
<div class="line"><a class="code" href="classompl_1_1base_1_1ScopedState.html">ompl::base::ScopedState&lt;&gt;</a> sXY(X + Y);</div>
<div class="line"><a class="code" href="classompl_1_1base_1_1ScopedState.html">ompl::base::ScopedState&lt;&gt;</a> sY(Y);</div>
<div class="line"><a class="code" href="classompl_1_1base_1_1ScopedState.html">ompl::base::ScopedState&lt;&gt;</a> sZX(Z + X);</div>
<div class="line"><a class="code" href="classompl_1_1base_1_1ScopedState.html">ompl::base::ScopedState&lt;&gt;</a> sXZW(X + Z + W);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// the following line will copy the content of the state sX to</span></div>
<div class="line"><span class="comment">// the corresponding locations in sXZW. The components of the state</span></div>
<div class="line"><span class="comment">// corresponding to the Z and W state spaces are not touched</span></div>
<div class="line">sX &gt;&gt; sXZW;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// the following line will initialize the X component of sXY with</span></div>
<div class="line"><span class="comment">// the X component of sXZW;</span></div>
<div class="line">sXY &lt;&lt; sXZW;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// the following line will initialize both components of sZX, using</span></div>
<div class="line"><span class="comment">// the X and Z components of sXZW;</span></div>
<div class="line">sZX &lt;&lt; sXZW;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// the following line compares the concatenation of states sX and sY with sXY</span></div>
<div class="line"><span class="comment">// the concatenation will automatically construct the state space X + Y and a state</span></div>
<div class="line"><span class="comment">// from that state space containing the information from sX and sY. Since sXY is</span></div>
<div class="line"><span class="comment">// constructed from the state space X + Y, the two are comparable.</span></div>
<div class="line"><span class="keywordtype">bool</span> eq = (sX ^ sY) == sXY;</div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- PageDoc -->
<div class="ttc" id="aclassompl_1_1base_1_1SO2StateSpace_html"><div class="ttname"><a href="classompl_1_1base_1_1SO2StateSpace.html">ompl::base::SO2StateSpace</a></div><div class="ttdoc">A state space representing SO(2). The distance function and interpolation take into account angle wra...</div><div class="ttdef"><b>Definition:</b> <a href="SO2StateSpace_8h_source.html#l00127">SO2StateSpace.h:127</a></div></div>
<div class="ttc" id="aclassompl_1_1base_1_1SpaceInformationPtr_html"><div class="ttname"><a href="classompl_1_1base_1_1SpaceInformationPtr.html">SpaceInformationPtr</a></div><div class="ttdoc">A shared pointer wrapper for ompl::base::SpaceInformation.</div></div>
<div class="ttc" id="aclassompl_1_1base_1_1CompoundStateSpace_html"><div class="ttname"><a href="classompl_1_1base_1_1CompoundStateSpace.html">ompl::base::CompoundStateSpace</a></div><div class="ttdoc">A space to allow the composition of state spaces.</div><div class="ttdef"><b>Definition:</b> <a href="StateSpace_8h_source.html#l00637">StateSpace.h:637</a></div></div>
<div class="ttc" id="aclassompl_1_1base_1_1State_html"><div class="ttname"><a href="classompl_1_1base_1_1State.html">ompl::base::State</a></div><div class="ttdoc">Definition of an abstract state.</div><div class="ttdef"><b>Definition:</b> <a href="base_2State_8h_source.html#l00113">State.h:113</a></div></div>
<div class="ttc" id="aclassompl_1_1base_1_1CompoundStateSpace_html_a332b23e17e7145d92dce19c6f58a11f9"><div class="ttname"><a href="classompl_1_1base_1_1CompoundStateSpace.html#a332b23e17e7145d92dce19c6f58a11f9">ompl::base::CompoundStateSpace::getSubspace</a></div><div class="ttdeci">const StateSpacePtr &amp; getSubspace(unsigned int index) const</div><div class="ttdoc">Get a specific subspace from the compound state space.</div><div class="ttdef"><b>Definition:</b> <a href="StateSpace_8cpp_source.html#l00915">StateSpace.cpp:915</a></div></div>
<div class="ttc" id="aclassompl_1_1base_1_1SO3StateSpace_html"><div class="ttname"><a href="classompl_1_1base_1_1SO3StateSpace.html">ompl::base::SO3StateSpace</a></div><div class="ttdoc">A state space representing SO(3). The internal representation is done with quaternions....</div><div class="ttdef"><b>Definition:</b> <a href="SO3StateSpace_8h_source.html#l00146">SO3StateSpace.h:146</a></div></div>
<div class="ttc" id="aclassompl_1_1base_1_1State_html_a6178474307b3f364184db9999a639af1"><div class="ttname"><a href="classompl_1_1base_1_1State.html#a6178474307b3f364184db9999a639af1">ompl::base::State::as</a></div><div class="ttdeci">const T * as() const</div><div class="ttdoc">Cast this instance to a desired type.</div><div class="ttdef"><b>Definition:</b> <a href="base_2State_8h_source.html#l00162">State.h:162</a></div></div>
<div class="ttc" id="aclassompl_1_1base_1_1RealVectorStateSpace_html"><div class="ttname"><a href="classompl_1_1base_1_1RealVectorStateSpace.html">ompl::base::RealVectorStateSpace</a></div><div class="ttdoc">A state space representing Rn. The distance function is the L2 norm.</div><div class="ttdef"><b>Definition:</b> <a href="RealVectorStateSpace_8h_source.html#l00137">RealVectorStateSpace.h:137</a></div></div>
<div class="ttc" id="aclassompl_1_1base_1_1RealVectorStateSpace_1_1StateType_html"><div class="ttname"><a href="classompl_1_1base_1_1RealVectorStateSpace_1_1StateType.html">ompl::base::RealVectorStateSpace::StateType</a></div><div class="ttdoc">The definition of a state in Rn</div><div class="ttdef"><b>Definition:</b> <a href="RealVectorStateSpace_8h_source.html#l00141">RealVectorStateSpace.h:141</a></div></div>
<div class="ttc" id="aclassompl_1_1base_1_1SE2StateSpace_html"><div class="ttname"><a href="classompl_1_1base_1_1SE2StateSpace.html">ompl::base::SE2StateSpace</a></div><div class="ttdoc">A state space representing SE(2)</div><div class="ttdef"><b>Definition:</b> <a href="SE2StateSpace_8h_source.html#l00113">SE2StateSpace.h:113</a></div></div>
<div class="ttc" id="aclassompl_1_1base_1_1SO2StateSpace_1_1StateType_html"><div class="ttname"><a href="classompl_1_1base_1_1SO2StateSpace_1_1StateType.html">ompl::base::SO2StateSpace::StateType</a></div><div class="ttdoc">The definition of a state in SO(2)</div><div class="ttdef"><b>Definition:</b> <a href="SO2StateSpace_8h_source.html#l00131">SO2StateSpace.h:131</a></div></div>
<div class="ttc" id="aclassompl_1_1base_1_1StateSpacePtr_html"><div class="ttname"><a href="classompl_1_1base_1_1StateSpacePtr.html">StateSpacePtr</a></div><div class="ttdoc">A shared pointer wrapper for ompl::base::StateSpace.</div></div>
<div class="ttc" id="aclassompl_1_1base_1_1CompoundStateSpace_html_a9c772d5b74271f79d95531d00ed36bf7"><div class="ttname"><a href="classompl_1_1base_1_1CompoundStateSpace.html#a9c772d5b74271f79d95531d00ed36bf7">ompl::base::CompoundStateSpace::addSubspace</a></div><div class="ttdeci">void addSubspace(const StateSpacePtr &amp;component, double weight)</div><div class="ttdoc">Adds a new state space as part of the compound state space. For computing distances within the compou...</div><div class="ttdef"><b>Definition:</b> <a href="StateSpace_8cpp_source.html#l00871">StateSpace.cpp:871</a></div></div>
<div class="ttc" id="aclassompl_1_1base_1_1ScopedState_html"><div class="ttname"><a href="classompl_1_1base_1_1ScopedState.html">ompl::base::ScopedState</a></div><div class="ttdoc">Definition of a scoped state.</div><div class="ttdef"><b>Definition:</b> <a href="ScopedState_8h_source.html#l00120">ScopedState.h:120</a></div></div>
<div class="ttc" id="aclassompl_1_1Exception_html"><div class="ttname"><a href="classompl_1_1Exception.html">ompl::Exception</a></div><div class="ttdoc">The exception type for ompl.</div><div class="ttdef"><b>Definition:</b> <a href="Exception_8h_source.html#l00078">Exception.h:78</a></div></div>
</div>
<footer class="footer">
  <div class="container">
  <a href="http://www.kavrakilab.org">Kavraki Lab</a>  &bull;
  <a href="https://www.cs.rice.edu">Department of Computer Science</a> &bull;
  <a href="https://www.rice.edu">Rice University</a><br/>
  Funded in part by the <a href="https://www.nsf.gov">National Science Foundation</a><br/>
  Documentation generated by <a href="http://www.doxygen.org/index.html">doxygen</a> 1.8.17
  </div>
</footer>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-9156598-2', 'auto');
  ga('send', 'pageview');
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
</body>
</html>
