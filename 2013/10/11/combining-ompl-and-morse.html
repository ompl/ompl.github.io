<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="author" content="Ioan A. Șucan, Mark Moll, Lydia E. Kavraki">
<title>Combining OMPL and MORSE</title>
<link href="/tabs.css" rel="stylesheet" type="text/css"/>
<script src="/jquery.js"></script>
<script src="/dynsections.js"></script>
<link href="/search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="/search/searchdata.js"></script>
<script type="text/javascript" src="/search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 
*/
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
  <script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js", "TeX/AMSmath.js", "TeX/AMSsymbols.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js
"></script>
  <link href="/doxygen.css" rel="stylesheet" type="text/css" />

<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
<link href="/ompl.css" rel="stylesheet">

  </head>
  <body>
    <div id="top"><!-- do not remove this div, it is closed by doxygen! -->
  <nav class="navbar navbar-expand-md fixed-top navbar-dark">
    <a class="navbar-brand" href="/index.html">OMPL</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbar">
      <ul class="navbar-nav mr-auto">
        <li class="nav-item"><a class="nav-link" href="/download.html">Download</a></li>
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" id="docDropdown" role="button" data-toggle
="dropdown" aria-haspopup="true" aria-expanded="false">Documentation</a>
          <div class="dropdown-menu" aria-labelledby="docDropdown">
            <a class="dropdown-item" href="https://ompl.kavrakilab.org/OMPL_Primer.pdf">Primer</a
>
            <a class="dropdown-item" href="/installation.html">Installation</a>
            <a class="dropdown-item" href="/tutorials.html">Tutorials</a>
            <a class="dropdown-item" href="/group__demos.html">Demos</a>
            <a class="dropdown-item omplapp" href="/gui.html">OMPL.app GUI</a>
            <a class="dropdown-item omplapp" href="/webapp.html">OMPL web app</a>
            <a class="dropdown-item" href="/python.html">Python Bindings</a>
            <a class="dropdown-item" href="/planners.html">Available Planners</a>
            <a class="dropdown-item" href="/plannerTerminationConditions.html">Planner Termination Conditions</a>
            <a class="dropdown-item" href="/benchmark.html">Benchmarking Planners</a>
            <a class="dropdown-item" href="/spaces.html">Available State Spaces</a>
            <a class="dropdown-item" href="/optimalPlanning.html">Optimal Planning</a>
            <a class="dropdown-item" href="/constrainedPlanning.html">Constrained Planning</a>
            <a class="dropdown-item" href="/FAQ.html">FAQ</a>
            <div class="dropdown-divider"></div>
            <div class="dropdown-header">External links</div>
            <a class="dropdown-item" href="http://moveit.ros.org">MoveIt</a>
            <a class="dropdown-item" href="http://plannerarena.org">Planner Arena</a>
            <a class="dropdown-item" href="http://moveit.ros.org/wiki/Tutorials/ICRA2013">ICRA 2013 Tutorial</a>
            <a class="dropdown-item" href="http://kavrakilab.org/iros2011/">IROS 2011 Tutorial</a>
          </div>
        </li>
        <li class="nav-item"><a class="nav-link" href="/gallery.html">Gallery</a></li>
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" id="codeDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Code</a>
          <div class="dropdown-menu" aria-labelledby="codeDropdown">
            <a class="dropdown-item" href="/api_overview.html">API Overview</a>
            <a class="dropdown-item" href="/annotated.html">Classes</a>
            <a class="dropdown-item" href="/files.html">Files</a>
            <a class="dropdown-item" href="/styleGuide.html">Style Guide</a>
            <a class="dropdown-item" href="/integration.html">Use OMPL within Other Systems</a>
            <div class="dropdown-divider"></div>
            <div class="dropdown-header">Repositories</div>
            <a class="dropdown-item" href="https://github.com/ompl/ompl">ompl on GitHub</a>
            <a class="dropdown-item" href="https://github.com/ompl/omplapp">omplapp on GitHub</a>
            <div class="dropdown-divider"></div>
            <div class="dropdown-header">Continuous Integration</div>
            <a class="dropdown-item" href="https://travis-ci.org/ompl/ompl">ompl on Travis CI (Linux/macOS)</a>
            <a class="dropdown-item" href="https://travis-ci.org/ompl/omplapp">omplapp on Travis CI (Linux/macOS)</a>
            <a class="dropdown-item" href="https://ci.appveyor.com/project/mamoll/ompl">ompl on AppVeyor CI (Windows)</a>
            <a class="dropdown-item" href="https://ci.appveyor.com/project/mamoll/omplapp">omplapp on AppVeyor CI (Windows)</a>
          </div>
        </li>
        <li class="nav-item"><a class="nav-link" href="https://github.com/ompl/ompl/issues">Issues</a></li>
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" id="communityDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Community</a>
          <div class="dropdown-menu" aria-labelledby="communityDropdown">
            <a class="dropdown-item" href="/support.html">Get Support</a>
            <a class="dropdown-item" href="/developers.html">Developers/Contributors</a>
            <a class="dropdown-item" href="/contrib.html">Submit a Contribution</a>
            <a class="dropdown-item" href="/education.html">Education</a>
          </div>
        </li>
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" id="aboutDropdown" role="button"  data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">About</a>
          <div class="dropdown-menu" aria-labelledby="aboutDropdown">
            <a class="dropdown-item" href="/license.html">License</a>
            <a class="dropdown-item" href="/citations.html">Citations</a>
            <a class="dropdown-item" href="/acknowledgements.html">Acknowledgments</a>
          </div>
        </li>
        <li class="nav-item"><a class="nav-link" href="https://ompl.kavrakilab.org/blog.html">Blog</a></li>
      </ul>
              <div id="MSearchBox" class="MSearchBoxInactive">
      <span class="left">
        <img id="MSearchSelect" src="/search/mag_sel.png"
             onmouseover="return searchBox.OnSearchSelectShow()"
             onmouseout="return searchBox.OnSearchSelectHide()"
             alt=""/>
        <input type="text" id="MSearchField" value="Search" accesskey="S"
             onfocus="searchBox.OnSearchFieldFocus(true)" 
             onblur="searchBox.OnSearchFieldFocus(false)" 
             onkeyup="searchBox.OnSearchFieldChange(event)"/>
        </span><span class="right">
          <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="/search/close.png" alt=""/></a>
        </span>
      </div>
    </div>
  </nav>
<div class="container" role="main">
  <div><!-- Generated by Doxygen 1.8.18 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
   onmouseover="return searchBox.OnSearchSelectShow()"
   onmouseout="return searchBox.OnSearchSelectHide()"
   onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
      name="MSearchResults" id="MSearchResults">
</iframe>
</div>


    

    <div class="container">
      <div class="row">
        <div class="page-header defaultfullwidth">
          <h1>Combining OMPL and MORSE</h1>
          <h4><a href="http://calebvoss.com">Caleb Voss</a>
        </div>

        <div class="defaultfullwidth">
          <p>The <a href="http://www.openrobots.org/wiki/morse/">Modular OpenRobots Simulation Engine</a> (MORSE) is an environment that allows the user or other code to direct a robot in a physics simulation. The program is built on the 3D modeling software, <a href="http://www.blender.org/">Blender</a>, which can be used to design and animate simulation scenarios. We saw an opportunity to enhance both the functionality of MORSE and the user accessibility of OMPL by combining the two of them, thus enabling the modeling, solving, and animating of a planning problem from the same interface.</p>

<p>A user of OMPL may wish to work with a problem where the motion of one or more robots and its environment are governed by the physics of the system and input controls to the robot(s). For example, suppose the user has a car-like robot, for which a desired velocity and turning speed can be specified, in an environment where the robot and other objects can collide and be pushed around. Previously, to plan a path in a problem like this, one could build a model of the environment through the use of primitive geometric objects and joints in the Open Dynamics Engine (ODE), and then invoke the OMPL interface for ODE to find a solution. Encoding such a model is tedious work and error-prone, as the user must visualize what all the vertex coordinates and joint relationships are describing. After OMPL provides a path, the user may wish to animate it, which requires supplying a rendering engine to draw the objects.</p>

<p>There is a more natural method of modeling a path planning problem that is less time-consuming and easily scalable to larger, more complicated systems. By introducing MORSE and the Blender modeling environment to OMPL, we have made utilizing the library more accessible and desirable to those who would rather not spend so much time and effort upfront on the modeling of their problems. MORSE is designed to facilitate the simulation of robot motion in dynamic environments using Blender’s physics engine and renderer. Entirely encapsulated in the MORSE/Blender workflow is the ability to construct environments and introduce robots from the MORSE library, complete with physical attributes like mass, friction, and joints with other objects, and then to simulate the system based on control inputs. We have designed an interface for OMPL to supply these inputs, thereby directing the simulation in order to solve a path planning problem.</p>

<p>This interface is in the form of a Blender add-on that supplies a number of useful functions, allowing the entire process to take place in the same workspace, without any tedious coding. First, in defining the problem, there are functions to link MORSE robots into the environment, set up bounds on the control inputs, and define goal positions for objects in the environment. The user then presses a button to start planning, after which the solution path is saved to disk in a concise format. Saved paths may be played back for review; at this time, frame-by-frame animation data is generated in the Blender file format. Finally, the user can dress up the scene in this file, tweak the results, and use the full extent of Blender’s rendering capabilities to create a high-quality animation of the solution. Refer to the <a title="usage tutorial" href="http://ompl.kavrakilab.org/morse.html" target="_blank">usage tutorial</a> for a detailed description of how to utilize our Blender add-on.</p>

<p>Our method allows the planning for these systems to take place on a prototype of the scene with simple models, since we can substitute and add fancier models for the rendering after the solution is saved. Here are some demonstration videos of the end result of this process:</p>

<p>This first video illustrates a problem in which the goal is defined by the location of an object other than the robot. The green box must be pushed onto the red ‘X’. In order to reach the box, OMPL must discover how to drive the car off the ramp quickly enough to make it to the other side.</p>

<div class="embed-responsive embed-responsive-16by9"><iframe src="https://player.vimeo.com/video/71580831?loop=1&amp;color=ffffff&amp;byline=0&amp;portrait=0" class="embed-responsive-item" frameborder="0" webkitallowfullscreen="" mozallowfullscreen="" allowfullscreen=""></iframe></div>

<p>The second video shows a simple puzzle involving two robots that must coordinate movements in a specific order so they can swap places, since the red ball is impeding any attempts to merely drive straight for the goal. The blue robot must first push the ball past the intersection to get it out of the way before the two robots may exchange places.</p>

<div class="embed-responsive embed-responsive-16by9"><iframe src="https://player.vimeo.com/video/72710651?loop=1&amp;color=ffffff&amp;byline=0&amp;portrait=0" class="embed-responsive-item" frameborder="0" webkitallowfullscreen="" mozallowfullscreen="" allowfullscreen=""></iframe></div>

<p>We hope you enjoy!</p>

        </div>
      </div>
    </div>

    <footer class="footer">
  <div class="container">
    <a href="http://www.kavrakilab.org">Kavraki Lab</a>  &bull;
    <a href="https://www.cs.rice.edu">Department of Computer Science</a> &bull;
    <a href="https://www.rice.edu">Rice University</a><br/>
    Funded in part by the <a href="https://www.nsf.gov">National Science Foundation</a><br/>
    Documentation generated by <a href="http://www.doxygen.org/index.html">doxygen</a> 1.8.18
  </div>
</footer>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-9156598-2', 'auto');
  ga('send', 'pageview');
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
  </body>
</html>
