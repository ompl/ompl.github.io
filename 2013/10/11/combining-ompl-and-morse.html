<!DOCTYPE html>
<html lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<title>Combining OMPL and MORSE</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="author" content="Ioan A. È˜ucan, Mark Moll, Lydia E. Kavraki">

<link href="http://ompl.github.io/css/tabs.css" rel="stylesheet">
<link href="http://ompl.github.io/css/doxygen.css" rel="stylesheet">
<link href="http://ompl.github.io/css/search.css" rel="stylesheet">
<link href="http://ompl.github.io/css/bootstrap.min.css" rel="stylesheet">
<link href="http://ompl.github.io/css/bootstrap-theme.min.css" rel="stylesheet">
<link href="http://ompl.github.io/css/ompl.css" rel="stylesheet">
<link href="http://ompl.github.io/css/syntax.css" rel="stylesheet">

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
<script src="http://ompl.github.io/search/searchdata.js"></script>
<script src="http://ompl.github.io/search/search.js"></script>

  </head>
  <body>
    <nav class="navbar navbar-inverse navbar-fixed-top" id="top" role="navigation">
  <div class="container">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar-collapse">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="http://ompl.github.io/index.html">OMPL</a>
    </div>

    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse" id="navbar-collapse">
      <ul class="nav navbar-nav">
        <li><a href="http://ompl.github.io/download.html">Download</a></li>
        <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown">Documentation <span class="caret"></span></a>
          <ul class="dropdown-menu" role="menu">
            <li><a href="http://ompl.kavrakilab.org/OMPL_Primer.pdf">Primer</a></li>
            <li><a href="http://ompl.github.io/installation.html">Installation</a></li>
            <li><a href="http://ompl.github.io/tutorials.html">Tutorials</a></li>
            <li><a href="http://ompl.github.io/group__demos.html">Demos</a></li>
            <li><a href="http://ompl.github.io/gui.html">OMPL.app GUI</a></li>
            <li><a href="http://ompl.github.io/webapp.html">OMPL web app</a></li>
            <li><a href="http://ompl.github.io/python.html">Python Bindings</a></li>
            <li><a href="http://ompl.github.io/planners.html">Available Planners</a></li>
            <li><a href="http://ompl.github.io/benchmark.html">Benchmarking Planners</a></li>
            <li><a href="http://ompl.github.io/spaces.html">Available State Spaces</a></li>
            <li><a href="http://ompl.github.io/optimalPlanning.html">Optimal Planning</a></li>
            <li><a href="http://ompl.github.io/FAQ.html">FAQ</a></li>
            <li class="divider"></li>
            <li class="dropdown-header">External links</li>
            <li><a href="http://moveit.ros.org">MoveIt!</a></li>
            <li><a href="http://plannerarena.org">Planner Arena</a></li>
            <li><a href="http://robotics.naist.jp/edu/text/?Robotics%2FOMPL">Japanese Introduction to OMPL</a></li>
            <li><a href="http://robotics.naist.jp/edu/text/?Robotics%2FExercise%2FOMPLProgramming">Japanese OMPL Tutorial</a></li>
            <li><a href="http://moveit.ros.org/wiki/Tutorials/ICRA2013">ICRA 2013 Tutorial</a></li>
            <li><a href="http://kavrakilab.org/OMPLtutorial">IROS 2011 Tutorial</a></li>
          </ul>
        </li>
        <li><a href="http://ompl.github.io/gallery.html">Gallery</a></li>
        <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown">Code <span class="caret"></span></a>
          <ul class="dropdown-menu" role="menu">
            <li><a href="http://ompl.github.io/api_overview.html">API Overview</a></li>
            <li><a href="http://ompl.github.io/annotated.html">Classes</a></li>
            <li><a href="http://ompl.github.io/files.html">Files</a></li>
            <li><a href="http://ompl.github.io/styleGuide.html">Style Guide</a></li>
            <li><a href="http://ompl.github.io/integration.html">Use OMPL within Other Systems</a></li>
            <li class="divider"></li>
            <li class="dropdown-header">Repositories</li>
            <li><a href="https://bitbucket.org/ompl/ompl">ompl on Bitbucket (Mercurial)</a></li>
            <li><a href="https://bitbucket.org/ompl/omplapp">omplapp on Bitbucket (Mercurial)</a></li>
            <li><a href="https://github.com/ompl/ompl">ompl on GitHub</a></li>
            <li><a href="https://github.com/ompl/omplapp">omplapp on GitHub</a></li>
            <li class="divider"></li>
            <li class="dropdown-header">Continuous Integration</li>
            <li><a href="https://travis-ci.org/ompl/ompl">ompl on Travis CI (Linux)</a></li>
            <li><a href="https://travis-ci.org/ompl/omplapp">omplapp on Travis CI (Linux)</a></li>
            <li><a href="https://ci.appveyor.com/project/mamoll/ompl">ompl on AppVeyor CI (Windows)</a></li>
            <li><a href="https://ci.appveyor.com/project/mamoll/omplapp">omplapp on AppVeyor CI (Windows)</a></li>
          </ul>
        </li>
        <li><a href="https://bitbucket.org/ompl/ompl/issues?status=new&status=open">Issues</a></li>
        <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown">Community <span class="caret"></span></a>
          <ul class="dropdown-menu" role="menu">
            <li><a href="http://ompl.github.io/mailingLists.html">Mailing Lists</a></li>
            <li><a href="http://ompl.github.io/developers.html">Developers</a></li>
            <li><a href="http://ompl.github.io/thirdparty.html">Contributions</a></li>
            <li><a href="http://ompl.github.io/contrib.html">Submit Contribution</a></li>
            <li><a href="http://ompl.github.io/education.html">Education</a></li>
          </ul>
        </li>
        <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown">About <span class="caret"></span></a>
          <ul class="dropdown-menu" role="menu">
            <li><a href="http://ompl.github.io/license.html">License</a></li>
            <li><a href="http://ompl.github.io/citations.html">Citations</a></li>
            <li><a href="http://ompl.github.io/acknowledgements.html">Acknowledgments</a></li>
            <li><a href="http://ompl.github.io/contact.html">Contact Us</a></li>
          </ul>
        </li>
        <li><a href="http://ompl.github.io/blog.html">Blog</a></li>

        <!-- Doxygen API search box -->
        <div id="searchli">
          <div id="MSearchBox" class="MSearchBoxInactive">
            <span class="left">
              <img id="MSearchSelect" src="search/mag_sel.png"
              onmouseover="return searchBox.OnSearchSelectShow()"
              onmouseout="return searchBox.OnSearchSelectHide()"
              alt=""/>
              <input type="text" id="MSearchField" value="Search API" accesskey="S"
              onfocus="searchBox.OnSearchFieldFocus(true)"
              onblur="searchBox.OnSearchFieldFocus(false)"
              onkeyup="searchBox.OnSearchFieldChange(event)"/>
            </span><span class="right">
              <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
            </span>
          </div>
        </div>

      </ul>
    </div>
  </div>
</nav>

<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
onmouseover="return searchBox.OnSearchSelectShow()"
onmouseout="return searchBox.OnSearchSelectHide()"
onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Friends</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
  <iframe src="" frameborder="0"name="MSearchResults" id="MSearchResults"></iframe>
</div>


    

    <div class="container">
      <div class="row">
        <div class="page-header defaultfullwidth">
          <h1>Combining OMPL and MORSE</h1>
          <h4><a href="">Caleb Voss</a>
        </div>

        <div class="defaultfullwidth">
          <p>The <a href="http://www.openrobots.org/wiki/morse/">Modular OpenRobots Simulation Engine</a> (MORSE) is an environment that allows the user or other code to direct a robot in a physics simulation. The program is built on the 3D modeling software, <a href="http://www.blender.org/">Blender</a>, which can be used to design and animate simulation scenarios. We saw an opportunity to enhance both the functionality of MORSE and the user accessibility of OMPL by combining the two of them, thus enabling the modeling, solving, and animating of a planning problem from the same interface.</p>

<p>A user of OMPL may wish to work with a problem where the motion of one or more robots and its environment are governed by the physics of the system and input controls to the robot(s). For example, suppose the user has a car-like robot, for which a desired velocity and turning speed can be specified, in an environment where the robot and other objects can collide and be pushed around. Previously, to plan a path in a problem like this, one could build a model of the environment through the use of primitive geometric objects and joints in the Open Dynamics Engine (ODE), and then invoke the OMPL interface for ODE to find a solution. Encoding such a model is tedious work and error-prone, as the user must visualize what all the vertex coordinates and joint relationships are describing. After OMPL provides a path, the user may wish to animate it, which requires supplying a rendering engine to draw the objects.</p>

<p>There is a more natural method of modeling a path planning problem that is less time-consuming and easily scalable to larger, more complicated systems. By introducing MORSE and the Blender modeling environment to OMPL, we have made utilizing the library more accessible and desirable to those who would rather not spend so much time and effort upfront on the modeling of their problems. MORSE is designed to facilitate the simulation of robot motion in dynamic environments using Blenderâ€™s physics engine and renderer. Entirely encapsulated in the MORSE/Blender workflow is the ability to construct environments and introduce robots from the MORSE library, complete with physical attributes like mass, friction, and joints with other objects, and then to simulate the system based on control inputs. We have designed an interface for OMPL to supply these inputs, thereby directing the simulation in order to solve a path planning problem.</p>

<p>This interface is in the form of a Blender add-on that supplies a number of useful functions, allowing the entire process to take place in the same workspace, without any tedious coding. First, in defining the problem, there are functions to link MORSE robots into the environment, set up bounds on the control inputs, and define goal positions for objects in the environment. The user then presses a button to start planning, after which the solution path is saved to disk in a concise format. Saved paths may be played back for review; at this time, frame-by-frame animation data is generated in the Blender file format. Finally, the user can dress up the scene in this file, tweak the results, and use the full extent of Blenderâ€™s rendering capabilities to create a high-quality animation of the solution. Refer to the <a title="usage tutorial" href="http://ompl.kavrakilab.org/morse.html" target="_blank">usage tutorial</a> for a detailed description of how to utilize our Blender add-on.</p>

<p>Our method allows the planning for these systems to take place on a prototype of the scene with simple models, since we can substitute and add fancier models for the rendering after the solution is saved. Here are some demonstration videos of the end result of this process:</p>

<p>This first video illustrates a problem in which the goal is defined by the location of an object other than the robot. The green box must be pushed onto the red â€˜Xâ€™. In order to reach the box, OMPL must discover how to drive the car off the ramp quickly enough to make it to the other side.</p>

<div class="embed-responsive embed-responsive-16by9"><iframe src="https://player.vimeo.com/video/71580831?loop=1&amp;color=ffffff&amp;byline=0&amp;portrait=0" class="embed-responsive-item" frameborder="0" webkitallowfullscreen="" mozallowfullscreen="" allowfullscreen=""></iframe></div>

<p>The second video shows a simple puzzle involving two robots that must coordinate movements in a specific order so they can swap places, since the red ball is impeding any attempts to merely drive straight for the goal. The blue robot must first push the ball past the intersection to get it out of the way before the two robots may exchange places.</p>

<div class="embed-responsive embed-responsive-16by9"><iframe src="https://player.vimeo.com/video/72710651?loop=1&amp;color=ffffff&amp;byline=0&amp;portrait=0" class="embed-responsive-item" frameborder="0" webkitallowfullscreen="" mozallowfullscreen="" allowfullscreen=""></iframe></div>

<p>We hope you enjoy!</p>

        </div>
      </div>
    </div>

    <footer class="footer">
  <div class="container"><p>
    <a href="http://www.kavrakilab.org">Physical and Biological Computing Group</a> &bull;
    <a href="http://www.cs.rice.edu">Department of Computer Science</a> &bull;
    <a href="http://www.rice.edu">Rice University</a><br>
    <span class="gray">Generated on October 11, 2013 by&#160;<a href="http://jekyllrb.com">Jekyll</a></span>
  </p></div>
</footer>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-9156598-2', 'auto');
  ga('send', 'pageview');
</script>
<script src="http://ompl.github.io/js/jquery.js"></script>
<script src="http://ompl.github.io/js/jquery.powertip.min.js"></script>
<script src="http://ompl.github.io/js/bootstrap.min.js"></script>
<script src="http://ompl.github.io/js/dynsections.js"></script>
<script src="http://ompl.github.io/js/ompl.js"></script>

  </body>
</html>
